"use strict";

const IdGen = require("./IdGen");
const maxCount = 0x10000;

module.exports = class {
	constructor(){
		this.dict = new Array(maxCount);
		this.idGen = new IdGen(maxCount);
	}

	add(socket){
		socket.uid = this.idGen.get();
		this.dict[socket.uid] = socket;
	}

	remove(socket){
		this.dict[socket.uid] = null;
		this.idGen.put(socket.uid);
	}

	findById(uid){
		return this.dict[uid];
	}
}